<?xml version="1.0" encoding="UTF-8"?>
<!--

 * Copyright (c) 2006-2014 LabKey Corporation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.

 -->
<ns:tables xmlns:ns="http://labkey.org/data/xml">
  <ns:table tableName="QueryDef" tableDbType="TABLE">
    <ns:cacheSize>100000</ns:cacheSize>
    <ns:columns>
      <ns:column columnName="QueryDefId"/>
      <ns:column columnName="EntityId"/>
      <ns:column columnName="Created"/>
      <ns:column columnName="CreatedBy"/>
      <ns:column columnName="Modified"/>
      <ns:column columnName="ModifiedBy"/>
      <ns:column columnName="Container"/>
      <ns:column columnName="Name"/>
      <ns:column columnName="Schema"/>
      <ns:column columnName="Sql"/>
      <ns:column columnName="MetaData"/>
      <ns:column columnName="SchemaVersion"/>
      <ns:column columnName="Flags"/>
      <ns:column columnName="Description"/>
    </ns:columns>
  </ns:table>
    <ns:table tableName="CustomView" tableDbType="TABLE">
      <ns:cacheSize>100000</ns:cacheSize>
      <ns:columns>
        <ns:column columnName="CustomViewId"/>
        <ns:column columnName="EntityId"/>
        <ns:column columnName="Created"/>
        <ns:column columnName="CreatedBy"/>
        <ns:column columnName="Modified"/>
        <ns:column columnName="ModifiedBy"/>
        <ns:column columnName="Schema"/>
        <ns:column columnName="QueryName"/>
        <ns:column columnName="Container"/>
        <ns:column columnName="Name"/>
        <ns:column columnName="CustomViewOwner"/>
        <ns:column columnName="Columns"/>
        <ns:column columnName="Filter" />
        <ns:column columnName="Flags"/>
      </ns:columns>
    </ns:table>
    <ns:table tableName="ExternalSchema" tableDbType="TABLE">
        <ns:cacheSize>0</ns:cacheSize><!-- Unlimited, since size scales with Container count -->
        <ns:columns>
            <ns:column columnName="ExternalSchemaId" />
            <ns:column columnName="EntityId" />
            <ns:column columnName="Created" />
            <ns:column columnName="CreatedBy" />
            <ns:column columnName="Modified" />
            <ns:column columnName="ModifiedBy" />
            <ns:column columnName="Container" />
            <ns:column columnName="DataSource">
                <ns:columnTitle>Data Source</ns:columnTitle>
                <ns:description>JNDI name of the DataSource associated with this schema.</ns:description>
            </ns:column>
            <ns:column columnName="UserSchemaName">
                <ns:columnTitle>Schema Name</ns:columnTitle>
                <ns:description>Name of the schema as referred to from within LabKey Server.</ns:description>
            </ns:column>
            <ns:column columnName="SourceSchemaName">
                <ns:columnTitle>Source Schema Name</ns:columnTitle>
                <ns:description>The name of the physical schema in the underlying database.</ns:description>
            </ns:column>
            <ns:column columnName="Editable">
                <ns:description>Allows insert/update/delete. Caveat: This setting only works if you have a single primary key in your table.</ns:description>
            </ns:column>
            <ns:column columnName="Indexable">
                <ns:description>Determines whether the schema should be indexed for full-text searching.</ns:description>
            </ns:column>
            <ns:column columnName="Tables">
                <ns:description>Allows exposing selected tables in the schema.</ns:description>
            </ns:column>
            <ns:column columnName="MetaData">
                <ns:description>You can use a specialized XML format to specify which columns are look-ups, formats, captions, etc.</ns:description>
            </ns:column>
            <ns:column columnName="SchemaType">
                <ns:description>Type of schema; either "external" or "linked".</ns:description>
                <ns:isHidden>true</ns:isHidden>
            </ns:column>
            <ns:column columnName="SchemaTemplate">
                <ns:description>Name of schema template defined in a module.</ns:description>
                <ns:isHidden>true</ns:isHidden>
            </ns:column>
        </ns:columns>
    </ns:table>
    <ns:table tableName="QuerySnapshotDef" tableDbType="TABLE">
        <ns:columns>
            <ns:column columnName="RowId"/>
            <ns:column columnName="QueryDefId"/>
            <ns:column columnName="EntityId"/>
            <ns:column columnName="Created"/>
            <ns:column columnName="CreatedBy"/>
            <ns:column columnName="Modified"/>
            <ns:column columnName="ModifiedBy"/>
            <ns:column columnName="Container"/>
            <ns:column columnName="Name"/>
            <ns:column columnName="Schema"/>
            <ns:column columnName="Columns"/>
            <ns:column columnName="Filter"/>
            <ns:column columnName="ParticipantGroups"/>
            <ns:column columnName="LastUpdated"/>
            <ns:column columnName="NextUpdate"/>
            <ns:column columnName="UpdateDelay"/>
            <ns:column columnName="QueryTableName"/>
            <ns:column columnName="QueryTableContainer"/>
            <ns:column columnName="OptionsId"/>
        </ns:columns>
    </ns:table>
    <ns:table tableName="OlapDef" tableDbType="TABLE">
        <ns:columns>
            <ns:column columnName="RowId"/>
            <ns:column columnName="Created"/>
            <ns:column columnName="CreatedBy"/>
            <ns:column columnName="Modified"/>
            <ns:column columnName="ModifiedBy"/>
            <ns:column columnName="Container"/>
            <ns:column columnName="Name"/>
            <ns:column columnName="Module"/>
            <ns:column columnName="Definition"/>
        </ns:columns>
    </ns:table>
</ns:tables>
